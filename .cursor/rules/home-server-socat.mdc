---
description: Socat configuration for port forwarding to home server
globs: 
alwaysApply: true
---
# Socat Port Forwarding Configuration

## Installation
- Installed via Homebrew: `brew install socat`
- Running as root service via LaunchDaemon

## System Service Configuration
- LaunchDaemon file: `/Library/LaunchDaemons/com.home.server.portforward.plist`
- Starts automatically on system boot
- Runs with root privileges

## Port Forwarding Setup
Forwards the following ports from localhost to Tailscale IP (internal-vpn-address):
- HTTP traffic (Traefik public port)
  - Local: 80 -> Remote: 9080
  - Used for all HTTP services (web apps, APIs)
- PostgreSQL
  - Local: 5432 -> Remote: 5432
  - Used for database access
- Redis
  - Local: 6379 -> Remote: 6379
  - Used for caching and session management

## Service Management
```bash
# View service status
sudo launchctl list | grep home.server

# Stop service
sudo launchctl unload /Library/LaunchDaemons/com.home.server.portforward.plist

# Start service
sudo launchctl load /Library/LaunchDaemons/com.home.server.portforward.plist

# View logs
tail -f /tmp/portforward.out
tail -f /tmp/portforward.err
```

## Access Examples
All services can be accessed through `home.server` hostname:
```bash
# HTTP services
curl http://home.server/argocd
curl http://home.server/crawler
curl http://home.server/ollama

# PostgreSQL
psql -h home.server -p 5432 -U admin -d web_crawler

# Redis
redis-cli -h home.server -p 6379
``` 